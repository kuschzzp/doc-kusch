---
title: screenå¤šçª—å£å·¥å…·
date: 2025-06-18 11:06:18
permalink: /pages/4dc1a2/
categories:
  - éƒ¨ç½²ä¸è¿ç»´
  - Linuxå¸¸ç”¨æ“ä½œ
tags:
  - 
author: 
  name: Mr.Kusch
  link: https://github.com/kuschzzp
---


## ğŸ“‹ å…ˆæ€»ç»“å‘½ä»¤é€ŸæŸ¥è¡¨

| åŠŸèƒ½     | æ“ä½œ                      |
| ------ | ----------------------- |
| å¯åŠ¨ä¼šè¯   | `screen -S name`        |
| æŸ¥çœ‹ä¼šè¯   | `screen -ls`            |
| æ¢å¤ä¼šè¯   | `screen -r name`        |
| åˆ†ç¦»ä¼šè¯   | `Ctrl + A`, å† `D`       |
| æ–°å»ºçª—å£   | `Ctrl + A`, å† `C`       |
| åˆ‡æ¢çª—å£   | `Ctrl + A`, å† `N` æˆ– `P` |
| æŸ¥çœ‹çª—å£åˆ—è¡¨ | `Ctrl + A`, å† `W`       |
| å¯åŠ¨æ—¥å¿—è®°å½• | `Ctrl + A`, å† `H`       |
| é€€å‡ºçª—å£   | `exit` æˆ– `Ctrl + D`     |

--- 

## ğŸ§  ä»€ä¹ˆæ˜¯ `screen`ï¼Ÿ

`screen` æ˜¯ä¸€ä¸ª **ç»ˆç«¯å¤šè·¯å¤ç”¨å™¨**ã€‚å®ƒå…è®¸ä½ åœ¨ä¸€ä¸ªç»ˆç«¯çª—å£ä¸­å¯åŠ¨å¤šä¸ªä¼šè¯ï¼ˆsessionï¼‰ï¼Œæ¯ä¸ª session éƒ½åƒä¸€ä¸ªç‹¬ç«‹çš„ shellã€‚å³ä½¿ä½ æ–­å¼€äº† SSH è¿æ¥ï¼Œå®ƒä¹Ÿèƒ½ä¿æŒä½ çš„è¿›ç¨‹è¿è¡Œï¼ˆæ¯”å¦‚åœ¨è¿œç¨‹æœåŠ¡å™¨ä¸Šè·‘è„šæœ¬æˆ–æ¨¡å‹è®­ç»ƒï¼‰ã€‚

---

## ğŸ§° å®‰è£… `screen`

### Ubuntu / Debianï¼š

```bash
sudo apt update
sudo apt install screen
```

### CentOS / RHELï¼š

```bash
sudo yum install screen
```

å®‰è£…åï¼Œè¾“å…¥ `screen` å‘½ä»¤éªŒè¯æ˜¯å¦å¯ç”¨ã€‚

---

## ğŸš€ åŸºç¡€ç”¨æ³•

### 1. å¯åŠ¨ä¸€ä¸ªæ–°çš„ screen ä¼šè¯

```bash
screen -S mysession
```

* `-S mysession` ç»™è¿™ä¸ªä¼šè¯å–åä¸º `mysession`ï¼Œæ–¹ä¾¿åç»­ç®¡ç†ã€‚

æ­¤æ—¶ä½ ä¼šè¿›å…¥ä¸€ä¸ªæ–°çš„ shell ç¯å¢ƒã€‚

---

### 2. åˆ†ç¦»ï¼ˆdetachï¼‰å½“å‰ä¼šè¯ï¼ˆè®©å®ƒåœ¨åå°è¿è¡Œï¼‰

```bash
Ctrl + Aï¼Œç„¶åæŒ‰ D
```

æŒ‰é”®é¡ºåºæ˜¯ï¼š

* **å…ˆæŒ‰ Ctrl+A**
* **å†æ¾å¼€åæŒ‰ D**

è¿™ä¼šå°†ä½ å½“å‰çš„ `screen` ä¼šè¯æŒ‚èµ·ï¼Œä½†ä¸ä¼šå…³é—­å®ƒï¼Œç¨‹åºç»§ç»­åœ¨åå°è¿è¡Œã€‚

---

### 3. æŸ¥çœ‹æ‰€æœ‰ screen ä¼šè¯

```bash
screen -ls
```

ç¤ºä¾‹è¾“å‡ºï¼š

```
There is a screen on:
        12345.mysession    (Detached)
1 Socket in /run/screen/S-root.
```

---

### 4. æ¢å¤ï¼ˆattachï¼‰æŸä¸ªä¼šè¯

```bash
screen -r mysession
```

æˆ–ï¼š

```bash
screen -r 12345
```

---

### 5. å…³é—­ä¼šè¯

åœ¨ screen ä¸­çš„ shell å†…ç›´æ¥è¿è¡Œï¼š

```bash
exit
```

æˆ–æŒ‰ `Ctrl+D`ï¼Œä¼šè¯ä¼šè¢«å…³é—­ã€‚

---

## ğŸ” å¤šçª—å£æ“ä½œ

åœ¨ä¸€ä¸ª screen ä¼šè¯ä¸­ï¼Œä½ å¯ä»¥åˆ›å»ºå¤šä¸ªâ€œçª—å£â€ã€‚

### åˆ›å»ºæ–°çª—å£

```bash
Ctrl + Aï¼Œç„¶åæŒ‰ C
```

### åœ¨çª—å£ä¹‹é—´åˆ‡æ¢

```bash
Ctrl + Aï¼Œç„¶åæŒ‰ Nï¼ˆnextï¼‰ æˆ– Pï¼ˆpreviousï¼‰
```

### æŸ¥çœ‹æ‰€æœ‰çª—å£

```bash
Ctrl + Aï¼Œç„¶åæŒ‰ W
```

---

## ğŸ› ï¸ è¿›é˜¶æ“ä½œ

### å…±äº«ä¼šè¯ï¼ˆå¤šç”¨æˆ·åä½œï¼‰

è®©ä¸¤ä¸ªäººåŒæ—¶æ“ä½œä¸€ä¸ª screenï¼ˆç”¨äºè¿œç¨‹åä½œæˆ–æ•™å­¦ï¼‰ï¼š

#### æ­¥éª¤ 1ï¼šè®¾ç½®æƒé™

```bash
chmod +s `which screen`
chmod 755 /var/run/screen
```

#### æ­¥éª¤ 2ï¼šå¯åŠ¨å…±äº«ä¼šè¯

```bash
screen -S shared
```

#### æ­¥éª¤ 3ï¼šåœ¨å¦ä¸€ä¸ªç”¨æˆ·è´¦å·ä¸­è¿æ¥

```bash
screen -x ç”¨æˆ·å/å…±äº«å
```

---

## ğŸ“ æŒä¹…è®°å½•æ—¥å¿—

æƒ³ä¿å­˜ screen ä¸­çš„è¾“å‡ºï¼š

```bash
Ctrl + Aï¼Œç„¶åæŒ‰ H
```

è¿™ä¼šå°†æ‰€æœ‰è¾“å‡ºä¿å­˜ä¸ºå½“å‰ç›®å½•ä¸‹çš„ `screenlog.0` æ–‡ä»¶ã€‚

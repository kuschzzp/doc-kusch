---
title: uv常用命令速查
date: 2025-11-17 16:38:27
permalink: /pages/4aa2c6/
categories:
  - 部署与运维
  - 常规部署
tags:
  - uv
author: 
  name: Mr.Kusch
  link: https://github.com/kuschzzp
---
### 安装

#### macOS 安装：

```shell
brew install uv
```

或使用官方脚本（推荐）：

```shell
curl -LsSf https://astral.sh/uv/install.sh | sh
```

> 说明：
> Homebrew 安装简单但版本更新稍慢；curl 方式安装的是最新正式版本。

#### Linux 安装：

```shell
curl -LsSf https://astral.sh/uv/install.sh | sh
```

* 支持 Debian / Ubuntu / CentOS / Alpine / Arch 等主流发行版
* 安装后可通过：

```shell
uv --version
```

检查是否成功。

#### Windows 安装：

**通过 winget：**

```shell
winget install uv
```

**或使用 PowerShell 脚本：**

```shell
irm https://astral.sh/uv/install.ps1 | iex
```

> Windows 说明：
> 安装后 uv 会自动加入 PATH，无需额外配置。

## uv 常用命令

以下是 uv 日常开发中最常用的命令，并附带说明与应用场景。

### 查看信息

#### 查看 uv 版本

```shell
uv --version 
```

#### 查看 uv 管理的 Python 版本

```shell
uv python list
```

#### 查看本机所有可用 Python

```shell
uv python find
```

> 这个命令用于查找系统中现有 Python 的路径。

### Python 版本管理

#### 安装特定版本 Python

```shell
uv python install 3.12
```

#### 设置全局默认 Python 版本

```shell
uv python default 3.12
```

#### 为当前项目固定 Python 版本（创建 `.python-version`）

```shell
uv python pin 3.12
```

> 这会让 uv 在当前目录优先使用 3.12，即使系统上还有其他版本。

## 虚拟环境管理（强烈推荐项目本地化）

#### 在项目内创建虚拟环境 `.venv`

```shell
uv venv
```

#### 激活虚拟环境

macOS / Linux：

```shell
source .venv/bin/activate
```

Windows：

```shell
.venv\Scripts\activate
```

#### 使用 uv 自动运行虚拟环境中的 Python

```shell
uv run python app.py
```

## 依赖包管理

#### 安装 requirements.txt 依赖

```shell
uv pip install -r requirements.txt
```

#### 导出依赖（替代 pip freeze）

```shell
uv pip freeze > requirements.txt
```

#### 安装单个包

```shell
uv pip install requests
```

#### 卸载包

```shell
uv pip uninstall requests
```

## 项目管理（类似 Poetry/PDM 的功能）

#### 初始化项目（创建 `pyproject.toml`）

```shell
uv init my_project
cd my_project
```

会自动生成：

* `pyproject.toml`
* 版本锁文件 `uv.lock`
* 基础项目结构

#### 同步依赖（根据 pyproject.toml）

```shell
uv sync
```

#### 添加依赖到项目

```shell
uv add fastapi
uv add ruff --dev
```

#### 删除依赖

```shell
uv remove fastapi
```

## 工具（CLI 工具管理，pipx 替代）

#### 安装 CLI 工具（全局）

```
uv tool install ruff
uv tool install uvicorn
```

#### 列出安装的工具

```
uv tool list
```

#### 卸载工具

```
uv tool uninstall ruff
```

## 缓存管理

#### 查看缓存目录

```
uv cache dir
```

#### 清理所有缓存

```
uv cache clean
```

#### 清理指定包缓存

```
uv cache clean fastapi
```

## 在 Docker 中使用 uv（性能极佳）

#### 在 Dockerfile 中安装依赖（替代 pip）

```dockerfile
RUN uv pip install --system --no-cache -r requirements.txt
```

#### 使用 uv sync（带锁文件，更快）

```dockerfile
RUN uv sync --frozen
```

> uv 在 Docker 构建中比 pip 快 5-20 倍。

## 高级命令

#### 查看项目依赖树

```
uv tree
```

#### 查看项目环境信息

```
uv info
```

#### 导出 requirements.txt（从 pyproject.toml）

```
uv export > requirements.txt
```

## 常见开发示例

#### 创建项目

```
uv init myapp
```

#### 创建虚拟环境

```
uv venv
```

#### 安装包

```
uv add fastapi uvicorn
```

#### 运行项目

```
uv run uvicorn main:app --reload
```

#### 生成锁文件

```
uv lock
```










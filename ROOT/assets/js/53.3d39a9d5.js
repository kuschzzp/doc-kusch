(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{513:function(e,r,s){"use strict";s.r(r);var t=s(10),a=Object(t.a)({},(function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h2",{attrs:{id:"xxl-job的docker部署"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#xxl-job的docker部署"}},[e._v("#")]),e._v(" xxl-job的Docker部署")]),e._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),s("p",[e._v("docker上面部署的什么版本的镜像，你的项目导包时最好使用相同版本，以避免出现乱七八糟的问题。"),s("br"),e._v("\n===============时刻积累==============="),s("br"),e._v(" "),s("code",[e._v("systemctl start firewalld")]),e._v("   # 开启防火墙"),s("br"),e._v(" "),s("code",[e._v("firewall-cmd --zone=public --add-port=8080/tcp --permanent")]),e._v("   # 放行指定单个端口"),s("br"),e._v(" "),s("code",[e._v("firewall-cmd --zone=public --add-port=3306/tcp --add-port=6379/tcp --permanent")]),e._v("    # 添加放行指定单个端口"),s("br"),e._v(" "),s("code",[e._v("firewall-cmd --reload")]),e._v("       # 生效添加的要放行的端口"),s("br"),e._v(" "),s("code",[e._v("firewall-cmd --list-ports")]),e._v("   # 查看所有被放行的端口"),s("br"),e._v(" "),s("code",[e._v("firewall-cmd --zone=public --remove-port=8081/tcp --permanent")]),e._v("   # 取消指定一开放端口")])]),e._v(" "),s("h4",{attrs:{id:"拉取镜像并且运行"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#拉取镜像并且运行"}},[e._v("#")]),e._v(" 拉取镜像并且运行")]),e._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[e._v("WARNING")]),e._v(" "),s("p",[e._v("以2.2.0为例,注意你数据库的执行脚本也应该去2.2.0版本的代码里去找！!")])]),e._v(" "),s("ul",[s("li",[e._v("镜像拉取")])]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("docker pull xuxueli/xxl-job-admin:2.2.0\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("ul",[s("li",[e._v("执行时的参数参数说明")])]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('docker run -d -p 8481:8777 -v /home/zzp/dockerlogshere:/data/applogs --name xxl-job-kusch001 -e PARAMS="--spring.datasource.url=jdbc:mysql://49.235.29.74:3306/blog?useUnicode=true&characterEncoding=UTF-8&autoReconnect=true&serverTimezone=UTC --spring.datasource.username=blog --spring.datasource.password=5PrzmTcJ3LPR8RNA --spring.datasource.driver-class-name=com.mysql.jdbc.Driver --spring.mail.host=smtp.qq.com --spring.mail.username=1526938209@qq.com --spring.mail.from=1526938209@qq.com --spring.mail.password=zsgpdnvdcetxjcje --server.port=8777"  xuxueli/xxl-job-admin:2.2.0\n')])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),s("p",[e._v("docker run 的常见参数说明：")]),e._v(" "),s("p",[e._v("-d  ====》后台运行容器")]),e._v(" "),s("p",[e._v("-v 本地目录:容器目录  ====》将本机的目录挂载到容器目录中")]),e._v(" "),s("p",[e._v("--name ====》为容器取个名字")]),e._v(" "),s("p",[e._v("-p 主机端口：容器端口 ====》端口映射")]),e._v(" "),s("p",[e._v("-e 键=值 ====》设施环境变量")])]),e._v(" "),s("h4",{attrs:{id:"一些命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一些命令"}},[e._v("#")]),e._v(" 一些命令")]),e._v(" "),s("ul",[s("li",[s("p",[s("code",[e._v("docker ps -a")])])]),e._v(" "),s("li",[s("p",[s("code",[e._v("docker info")])])]),e._v(" "),s("li",[s("p",[s("code",[e._v("docker rm 容器id")])])]),e._v(" "),s("li",[s("p",[s("code",[e._v("docker rmi 镜像id")])])]),e._v(" "),s("li",[s("p",[s("code",[e._v("docker stop 容器id")])])])])])}),[],!1,null,null,null);r.default=a.exports}}]);
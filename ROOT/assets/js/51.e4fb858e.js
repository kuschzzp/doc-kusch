(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{511:function(s,n,a){"use strict";a.r(n);var e=a(10),t=Object(e.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"centos中nginx的安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#centos中nginx的安装"}},[s._v("#")]),s._v(" centOS中Nginx的安装")]),s._v(" "),a("h2",{attrs:{id:"一-nginx准备环境的安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一-nginx准备环境的安装"}},[s._v("#")]),s._v(" 一：Nginx准备环境的安装")]),s._v(" "),a("h3",{attrs:{id:"gcc的安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gcc的安装"}},[s._v("#")]),s._v(" gcc的安装")]),s._v(" "),a("p",[s._v("gcc是linux下的编译器，所以需要安装。")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看版本")]),s._v("\ngcc -v\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看没查看到就安装")]),s._v("\nyum -y "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" gcc\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"pcre安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pcre安装"}},[s._v("#")]),s._v(" pcre安装")]),s._v(" "),a("p",[s._v("pcre是一个perl库，包括perl兼容的正则表达式库，nginx的http模块使用pcre来解析正则表达式，所以需要安装pcre库。")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装")]),s._v("\nyum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y pcre pcre-devel\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"zlib安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zlib安装"}},[s._v("#")]),s._v(" zlib安装")]),s._v(" "),a("p",[s._v("zlib库提供了很多种压缩和解压缩方式nginx使用zlib对http包的内容进行gzip，所以需要安装。")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装")]),s._v("\nyum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y zlib zlib-devel\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"openssl安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#openssl安装"}},[s._v("#")]),s._v(" openssl安装")]),s._v(" "),a("p",[s._v("openssl是web安全通信的基石，所以需要。")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装")]),s._v("\nyum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y openssl openssl-devel\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h2",{attrs:{id:"二-开始安装nginx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二-开始安装nginx"}},[s._v("#")]),s._v(" 二：开始安装Nginx")]),s._v(" "),a("blockquote",[a("p",[s._v("Nginx下载地址：http://nginx.org/en/download.html")])]),s._v(" "),a("h3",{attrs:{id:"nginx下载"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginx下载"}},[s._v("#")]),s._v(" Nginx下载")]),s._v(" "),a("p",[s._v("下载方式分为两种：")]),s._v(" "),a("ul",[a("li",[s._v("手动下载，自己用工具上传。")]),s._v(" "),a("li",[s._v("命令下载，此处以命令方式距离。")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 下载nginx安装包")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" http://nginx.org/download/nginx-1.18.0.tar.gz\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 注意：提示没有wget命令，用下面命令安装")]),s._v("\nyum -y "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("下载完成后，将安装包移动到 "),a("code",[s._v("/usr/local/nginxhere")]),s._v(" 下，如果没有文件夹请创建，具体命令如下：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 切换目录")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /usr/local\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建文件夹")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" nginxhere\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 移动文件")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" /usr/local/nginx-1.18.0.tar.gz /usr/local/nginxhere/nginx-1.18.0.tar.gz \n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("h3",{attrs:{id:"nginx解压安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginx解压安装"}},[s._v("#")]),s._v(" Nginx解压安装")]),s._v(" "),a("ol",[a("li",[s._v("解压")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -zxvf nginx-1.18.0.tar.gz \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[s._v("进入文件夹")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" nginx-1.18.0\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ol",{attrs:{start:"3"}},[a("li",[s._v("运行如下三个命令")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("./configure\n \n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v("\n \n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("ol",{attrs:{start:"4"}},[a("li",[s._v("进入nginx目录")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /usr/local/nginx/sbin\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ol",{attrs:{start:"5"}},[a("li",[s._v("然后运行如下命令启动：")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("\n./nginx\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("ol",{attrs:{start:"6"}},[a("li",[s._v("查看运行状态")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("\nps -ef | grep nginx\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"将nginx配置进环境变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#将nginx配置进环境变量"}},[s._v("#")]),s._v(" 将Nginx配置进环境变量")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 第一步")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/profile\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 第二步")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),s._v(":/usr/local/nginx/sbin\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 第三步")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" /etc/profile\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#第四步")]),s._v("\nnginx -s reload\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("h3",{attrs:{id:"尝试修改nginx配置文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#尝试修改nginx配置文件"}},[s._v("#")]),s._v(" 尝试修改Nginx配置文件")]),s._v(" "),a("ol",[a("li",[s._v("尝试修改端口为5678")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入目录")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /usr/local/nginx/conf\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 输入")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" nginx.conf\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 找到80修改成5678即可")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[s._v("访问测试")])]),s._v(" "),a("ul",[a("li",[s._v("虚拟机内访问：")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".199.229:5678\n    ``"),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("\n\n* 还可以在主机浏览器访问，主机浏览器访问记得放行端口，或者直接关闭防火墙。\n\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("`` shell\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 关闭防火墙")]),s._v("\nsystemctl stop firewalld.service\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 放行端口")]),s._v("\nfirewall-cmd --zone"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("public --add-port"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5678")]),s._v("/tcp --permanent  \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("h3",{attrs:{id:"常用命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常用命令"}},[s._v("#")]),s._v(" 常用命令")]),s._v(" "),a("ol",[a("li",[s._v("停止Nginx")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("./nginx -s stop\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"三-挂载数据卷以及一些命令解释"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三-挂载数据卷以及一些命令解释"}},[s._v("#")]),s._v(" 三：挂载数据卷以及一些命令解释")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("获取最新版的 Nginx 镜像")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[s._v(" docker pull nginx:latest\n")])])])]),s._v(" "),a("li",[a("p",[s._v("运行容器")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[s._v(" docker run --name nginx-test -p 8080:80 -d nginx\n")])])])])]),s._v(" "),a("blockquote",[a("p",[s._v("--name nginx-test：容器名称。"),a("br"),s._v("\n-p 8080:80： 端口进行映射，将本地 8080 端口映射到容器内部的 80 端口。"),a("br"),s._v("\n-d nginx： 设置容器在在后台一直运行。")])]),s._v(" "),a("ul",[a("li",[a("p",[s._v("进入某个容器")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[s._v(" docker exec -it <容器id> /bin/bash\n")])])])]),s._v(" "),a("li",[a("p",[s._v("自定义nginx配置和挂载存储卷")])])]),s._v(" "),a("blockquote",[a("ul",[a("li",[s._v("定义nginx.conf配置文件，放置于宿主机（服务器）的/home/nginx目录下")])])]),s._v(" "),a("blockquote",[a("ul",[a("li",[s._v("用于include的vhost目录，从而方便管理，放置于宿主机（服务器）的/home/nginx目录下")])])]),s._v(" "),a("blockquote",[a("ul",[a("li",[s._v("定义WEB的根目录www，放置于宿主机（服务器）的/home/nginx目录下")])])]),s._v(" "),a("blockquote",[a("ul",[a("li",[s._v("创建两个日志追踪文件nginx_error.log和access.log，放置于宿主机（服务器）的/home/nginx/logs目录下")])])]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[s._v("\tdocker run --name nginxKusch --privileged=true -p 5588:80 -v /home/nginx/nginx.conf:/etc/nginx/nginx.conf -v /home/nginx/vhost:/home/nginx/vhost -v /home/nginx/logs/nginx_error.log:/home/nginx/logs/nginx_error.log -v /home/nginx/www:/home/nginx/www -d nginx\n")])])]),a("blockquote",[a("p",[s._v("-d: 后台运行容器，并返回容器UUID（常用）")])]),s._v(" "),a("blockquote",[a("p",[s._v("-i: 以交互模式运行容器，通常与 -t 同时使用")])]),s._v(" "),a("blockquote",[a("p",[s._v("-t: 为容器重新分配一个伪输入终端，通常与 -i 同时使用")])]),s._v(" "),a("blockquote",[a("p",[s._v("v, –volume=[] 给容器挂载存储卷，挂载到容器的某个目录（常用）")])]),s._v(" "),a("blockquote",[a("p",[s._v("–privileged=false 指定容器是否为特权容器，特权容器拥有所有的capabilities")])]),s._v(" "),a("blockquote",[a("p",[s._v("–name=”” 指定容器名字（如mynginx），后续可以通过这个容器名字进行容器管理（常用）")])]),s._v(" "),a("p",[s._v("参考博文："),a("a",{attrs:{href:"https://blog.csdn.net/qq_41291945/article/details/107898035",target:"_blank",rel:"noopener noreferrer"}},[s._v("点击这里"),a("OutboundLink")],1)]),s._v(" "),a("h2",{attrs:{id:"nginx配置文件详解-待补充"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginx配置文件详解-待补充"}},[s._v("#")]),s._v(" Nginx配置文件详解（待补充------\x3e）")])])}),[],!1,null,null,null);n.default=t.exports}}]);
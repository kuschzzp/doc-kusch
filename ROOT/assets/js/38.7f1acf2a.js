(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{600:function(s,e,n){"use strict";n.r(e);var a=n(9),r=Object(a.a)({},(function(){var s=this,e=s.$createElement,n=s._self._c||e;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"docker-部署redis"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#docker-部署redis"}},[s._v("#")]),s._v(" docker 部署redis")]),s._v(" "),n("ul",[n("li",[s._v("拉取最新redis镜像")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("docker pull redis\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("ul",[n("li",[s._v("创建映射目录")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("cd /home/zzp\nmkdir redis\nmkdir redis/data\nmkdir redis/config\n \n创建redis.conf配置文件\ntouch redis/config/redis.conf\n\n百度下载一个redis.conf\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("p",[s._v("下载："),n("a",{attrs:{href:"http://download.redis.io/redis-stable/redis.conf",target:"_blank",rel:"noopener noreferrer"}},[s._v("点击这里"),n("OutboundLink")],1)]),s._v(" "),n("ul",[n("li",[s._v("修改redis.conf")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("bind 127.0.0.1 \t\t#注释掉这部分，这是限制redis只能本地访问\nprotected-mode no \t#默认yes，开启保护模式，限制为本地访问\nrequirepass 密码\t\t#增加启动密码\nappendonly yes      #持久化默认no，改成yes\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("ul",[n("li",[s._v("运行命令")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("docker run --name redis-kusch -p 16379:6379 --restart=always -v /home/zzp/redis/data:/data -v /home/zzp/redis/config/redis.conf:/etc/redis/redis.conf --privileged=true -d redis redis-server /etc/redis/redis.conf\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),n("p",[s._v("命令解释\n–restart always：开机启动\n–privileged=true：提升容器内权限\n-v /home/zzp/redis/data:/data：映射数据\n-v /home/zzp/redis/config/redis.conf:/etc/redis/redis.conf：映射配置文件\n-d : 后台运行\nredis-server /etc/redis/redis.conf : 配置文件方式启动")])]),s._v(" "),n("ul",[n("li",[s._v("继续进入容器，测试一下设置一个值")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("docker exec -it redis-kusch  /bin/bash\n\nredis-cli\n\nauth 你的密码\n\nset qwe qqweqweqwe\n\nget qwe\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])])])}),[],!1,null,null,null);e.default=r.exports}}]);